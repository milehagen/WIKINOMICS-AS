<ng-container>
  <h3 *ngIf="selectedCommunity">{{selectedCommunity.title}}</h3>
  <ng-container>
    <form [formGroup]="postForm">

      <div class="form-group">
        <textarea class="form-control" id="textPost" formControlName="textPost" placeholder="What do you want to ask about?"></textarea>
      </div>

      <div class="form-group">
        Post tag: {{usePostTag}}<br />
        <input type="checkbox" id="postTag" class="form-check-input" [(ngModel)]="usePostTag" (change)="postTagToggle()" [ngModelOptions]="{standalone: true}" />
        <label for="postTag" class="form-check-label">Add tag</label>

        <select class="form-control" formControlName="postTagField">
          <option *ngFor="let postTag of allPostTags" [ngValue]="postTag">{{postTag.title}}</option>
        </select>
      </div>
      <div class="form-group">
        <button type="button" class="btn btn-primary" (click)="sendPost()" [disabled]="!postForm.valid">Publish</button>
      </div>
    </form>
  </ng-container>

  <div *ngFor="let post of allPosts | reverse; index as i">
    <div class="row">
      <div class="col-md-auto pointAndNoSelect">
        <b (click)="upvotePost(post)" matToolTip="Upvote post">ü¢Å</b><br />
        {{post.upvotes - post.downvotes}}<br />
        <b (click)="downvotePost(post)" matToolTip="downvote post">ü¢É</b><br />
      </div>


      <div class="col pointAndNoSelect" [routerLink]="['post', post.id]">
        <h5>{{post.text}}</h5>
        <small *ngIf="post.postTag">{{post.postTag.title}}</small><br />
        <small>{{post.comment.length}} Comment(s)</small><br />
      </div>
    </div>
    <small>Submitted {{post.date | dateAgo}} by {{post.userID}}</small>
    <hr />
  </div>
</ng-container>
